<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Connection</title>
    <link rel="stylesheet" href="./CSS/historialSolicitudesStyle.css">
    <link rel="shortcut icon" href="../Images/tab_icon.png" type="image/x-icon">
</head>
<body>
   
    <div id="navbar" ></div>

    <div class="container-record">
        
        

        <!-- Menú de navegación -->
        <div class="nav-menu">
            <button onclick="showSection('citas')">Citas</button>
            <button onclick="showSection('examenes')">Exámenes</button>
            <button onclick="showSection('autorizaciones-medicas')">Autorizaciones Médicas</button>
            <button onclick="showSection('copagos')">Copagos</button>
            <button onclick="showSection('mis-afiliaciones')">Mis Afiliaciones</button>
        </div>

        <!-- Secciones de contenido -->
        <div class="main-content">
            <!-- Sección Citas -->
            <div id="citas" class="content-section">
                <div class="title">
                    <h2>Citas</h2>
                </div>
                
                <!-- Espacio para llenar la información de citas -->
                <div class="appointment-card">
                    <p>Paciente: Juan Perez</p>
                    <p>Especialidad: Cardiología</p>
                    <p>Fecha: 20/06/2024</p>
                    <p>Hora: 09:00 AM</p>
                    <p>Lugar: Centro de atención Chapinero</p>

                    <article>
                        <button id="cita-edit" class="primary-button">Editar cita</button>
                    </article>
                    
                </div>
                <div class="appointment-card">
                    <p>Paciente: Ana Gomez</p>
                    <p>Especialidad: Dermatología</p>
                    <p>Fecha: 22/06/2024</p>
                    <p>Hora: 11:00 AM</p>
                    <p>Lugar: Centro de atención Norte</p>

                    <article>
                        <button id="cita-edit" class="primary-button">Editar cita</button>
                    </article>
                </div>
            </div>

            <!-- Sección Exámenes -->
            <div id="examenes" class="content-section">
                <div class="title">
                    <h2>Exámenes</h2>
                </div>
                
                <div class="appointment-card">
                    <p>Paciente: Pedro Martinez</p>
                    <p>Examen: Radiografía</p>
                    <p>Fecha: 25/06/2024</p>
                    <p>Hora: 10:00 AM</p>
                    <p>Lugar: Centro de atención Sur</p>

                    <article>
                        <button id="examen-edit" class="primary-button"><a href="./modifyExamen.html">Editar examen</a></button>
                        <button id="examen-edit" class="primary-button"><a href="./resultados.html">ver resultado</a></button>
                    </article>
                </div>
                </div>
            </div>

            <!-- Sección Autorizaciones Médicas -->
            <div id="autorizaciones-medicas" class="content-section">
                <div class="title">
                    <h2>Autorizaciones Médicas</h2>
                </div>
                
                <div class="appointment-card">
                    <p>Paciente: Laura Ortiz</p>
                    <p>Autorización: Cirugía de rodilla</p>
                    <p>Fecha: 30/06/2024</p>
                    <p>Estado: Autorizado</p>

                    <article>
                        <button id="autorization-edit" class="primary-button"><a href="http://">ver Autorizacion</a></button>
                    </article>
                </div>
                </div>

            <div id="copagos" class="content-section">
                <div class="title">
                    <h2>Copagos</h2>
                </div>
                
                <div class="payment-card pending">
                    <p>Paciente: Juan Rodriguez</p>
                    <p>Cita de: Optometría</p>
                    <p>Fecha: 15/09/2024</p>
                    <p>Hora: 10:30 AM</p>
                    <p>Lugar: Centro de atención Kennedy P</p>
                    <p class="copago">Realizar COPAGO = 10.300$</p>

                    <div class="actions">
                        <button class="edit"><a href="./modifyPagos.html">Editar Pago</a></button>
                        <button class="delete">Eliminar</button>
                    </div>
                </div>
            </div>

            <!-- Sección Mis Afiliaciones -->
            <div id="mis-afiliaciones" class="content-section">
                <div class="title">
                    <h2>Mis Afiliaciones</h2>
                </div>
                
                <div class="appointment-card">
                    <p>Afiliado: Maria Gonzalez</p><br>
                    <p>Plan: Plan Básico</p><br>
                    <p>Fecha de Inicio: 01/01/2023</p><br>
                    <p>Estado: Activo</p><br>

                    <article>
                        <button id="afiliation-edit" class="primary-button"><a href="./modifyAfiliacion.html">Editar Afiliacion</a></button>
                    </article>
                </div>
            </div>
           
            
            
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navbarDiv = document.getElementById('navbar');
            /* Verificamos si navbar existe y cargamos el contenido */
            if (navbarDiv) {
                fetch('navbar-prototype.html')
                   // Convertimos la respuesta en un archivo de texto
                    .then(response => response.text())
                    .then(data => {
                        // Modificamos el contenido HTML de navbarDiv
                        navbarDiv.innerHTML = data;
                        
                    })
                    // Colocamos el catch en caso de que la solicitud falle
                    .catch(error => console.error('Error cargando el navbar:', error));
            }
            // Mostramos la primera sección por defecto
            showSection('citas');
        });
        
        function showSection(sectionId) {
            // Ocultamos todas las secciones
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Mostramos la sección seleccionada
            document.getElementById(sectionId).classList.add('active');

            // Actualizamos la clase active en el menú de navegación
            const buttons = document.querySelectorAll('.nav-menu button');
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            document.querySelector(`.nav-menu button[onclick="showSection('${sectionId}')"]`).classList.add('active');
        }

        function redirectToPage(url) {
            window.location.href = url;
        }
        
        // Selecciona todos los botones con la clase 'redirect-button'
        const buttons= document.querySelectorAll('#cita-edit');
        
        // Asocia la función a cada botón
        buttons.forEach(button => {
            button.addEventListener('click', () => {
                // Cambia la URL según el botón o utiliza una URL general
                redirectToPage('./modifyCitas.html');
            });
        });
    </script>
</body>
</html>
